var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function N(){return f(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function F(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.data!==n&&(t.data=n)}let T;function _(t){T=t}function g(t){(function(){if(!T)throw new Error("Function called outside component initialization");return T})().$$.on_mount.push(t)}const U=[],m=[];let p=[];const A=[],E=Promise.resolve();let b=!1;function L(t){p.push(t)}const M=new Set;let P=0;function k(){if(0!==P)return;const t=T;do{try{for(;P<U.length;){const t=U[P];P++,_(t),$(t.$$)}}catch(t){throw U.length=0,P=0,t}for(_(null),U.length=0,P=0;m.length;)m.pop()();for(let t=0;t<p.length;t+=1){const n=p[t];M.has(n)||(M.add(n),n())}p.length=0}while(U.length);for(;A.length;)A.pop()();b=!1,M.clear(),_(t)}function $(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(L)}}const y=new Set;function v(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];p.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),p=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function x(t,n){-1===t.$$.dirty[0]&&(U.push(t),b||(b=!0,E.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function K(c,l,u,s,a,f,N,d=[-1]){const F=T;_(c);const h=c.$$={fragment:null,ctx:[],props:f,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(F?F.$$.context:[])),callbacks:e(),dirty:d,skip_bound:!1,root:l.target||F.$$.root};N&&N(h.root);let g=!1;if(h.ctx=u?u(c,l.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),g&&x(c,t)),n})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);h.fragment&&h.fragment.l(t),t.forEach(i)}else h.fragment&&h.fragment.c();l.intro&&((U=c.$$.fragment)&&U.i&&(y.delete(U),U.i(m))),function(t,e,c,l){const{fragment:u,after_update:i}=t.$$;u&&u.m(e,c),l||L((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),i.forEach(L)}(c,l.target,l.anchor,l.customElement),k()}var U,m;_(F)}class O{$destroy(){v(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function S(t,n,e){const o=t.slice();return o[27]=n[e],o}function C(t,n,e){const o=t.slice();return o[30]=n[e],o[32]=e,o}function Y(t,n,e){const o=t.slice();return o[33]=n[e],o[35]=e,o}function w(t){let n;return{c(){n=a("div"),n.textContent="GOAL"},m(t,e){u(t,n,e)},d(t){t&&i(n)}}}function D(t){let n,e;return{c(){n=a("div"),e=f(t[2])},m(t,o){u(t,n,o),l(n,e)},p(t,n){4&n[0]&&h(e,t[2])},d(t){t&&i(n)}}}function W(t){let n,e,r,c,s;function N(){return t[8](t[32],t[35])}function h(){return t[9](t[32],t[35])}return{c(){n=a("span"),e=f("□"),F(n,"style",r=t[33][3])},m(t,o){u(t,n,o),l(n,e),c||(s=[d(n,"keydown",N),d(n,"click",h)],c=!0)},p(e,o){t=e,8&o[0]&&r!==(r=t[33][3])&&F(n,"style",r)},d(t){t&&i(n),c=!1,o(s)}}}function j(t){let n,e,o=t[30],r=[];for(let n=0;n<o.length;n+=1)r[n]=W(Y(t,o,n));return{c(){n=a("li");for(let t=0;t<r.length;t+=1)r[t].c();e=N(),F(n,"class","CELL")},m(t,o){u(t,n,o);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);l(n,e)},p(t,c){if(72&c[0]){let l;for(o=t[30],l=0;l<o.length;l+=1){const u=Y(t,o,l);r[l]?r[l].p(u,c):(r[l]=W(u),r[l].c(),r[l].m(n,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},d(t){t&&i(n),s(r,t)}}}function G(t){let n,e,o,r,c,s,N=t[5][t[27]].NAME+"",d=t[5][t[27]].LFP+"",F=t[5][t[27]].ATK+"";return{c(){n=a("div"),e=f(N),o=f(" LFP: "),r=f(d),c=f(" ATK: "),s=f(F)},m(t,i){u(t,n,i),l(n,e),l(n,o),l(n,r),l(n,c),l(n,s)},p(t,n){32&n[0]&&N!==(N=t[5][t[27]].NAME+"")&&h(e,N),32&n[0]&&d!==(d=t[5][t[27]].LFP+"")&&h(r,d),32&n[0]&&F!==(F=t[5][t[27]].ATK+"")&&h(s,F)},d(t){t&&i(n)}}}function B(n){let e,r,c,T,_,g,U,m,p,A,E,b,L,M,P,k,$,y,v,x,K,O,Y,R,W,B,I,V,q,z,H,J,Q,X,Z,tt,nt,et,ot,rt,ct,lt,ut,it,st,at=n[4][0].NAME+"",ft=n[4][0].LFP+"",Nt=n[4][0].ATK+"",dt=n[1]&&w(),Ft=n[2]&&D(n),ht=n[3],Tt=[];for(let t=0;t<ht.length;t+=1)Tt[t]=j(C(n,ht,t));let _t=Object.keys(n[5]),gt=[];for(let t=0;t<_t.length;t+=1)gt[t]=G(S(n,_t,t));return{c(){e=a("div"),r=N(),dt&&dt.c(),c=N(),Ft&&Ft.c(),T=N(),_=a("div"),g=f("PICKEL: "),U=f(n[0]),m=N(),p=a("ul");for(let t=0;t<Tt.length;t+=1)Tt[t].c();A=N(),E=a("div"),b=a("button"),b.textContent="◾️",L=N(),M=a("button"),M.textContent="W",P=N(),k=a("button"),k.textContent="◾️",$=N(),y=a("div"),v=a("button"),v.textContent="A",x=N(),K=a("button"),K.textContent="◾️",O=N(),Y=a("button"),Y.textContent="D",R=N(),W=a("div"),B=a("button"),B.textContent="◾️",I=N(),V=a("button"),V.textContent="S",q=N(),z=a("button"),z.textContent="◾️",H=N(),J=a("div"),Q=a("div"),X=f(at),Z=f(" LFP: "),tt=f(ft),nt=f(" ATK: "),et=f(Nt),ot=N();for(let t=0;t<gt.length;t+=1)gt[t].c();rt=N(),ct=a("div"),ct.textContent="Ver 0.0.0.4",lt=N(),ut=a("a"),ut.textContent="GitHub",F(b,"class","WASD_NULL svelte-hh056d"),F(M,"class","WASD svelte-hh056d"),F(k,"class","WASD_NULL svelte-hh056d"),F(v,"class","WASD svelte-hh056d"),F(K,"class","WASD_NULL svelte-hh056d"),F(Y,"class","WASD svelte-hh056d"),F(B,"class","WASD_NULL svelte-hh056d"),F(V,"class","WASD svelte-hh056d"),F(z,"class","WASD_NULL svelte-hh056d"),F(ut,"href","https://github.com/taroyanaka/game/")},m(t,o){u(t,e,o),u(t,r,o),dt&&dt.m(t,o),u(t,c,o),Ft&&Ft.m(t,o),u(t,T,o),u(t,_,o),l(_,g),l(_,U),u(t,m,o),u(t,p,o);for(let t=0;t<Tt.length;t+=1)Tt[t]&&Tt[t].m(p,null);u(t,A,o),u(t,E,o),l(E,b),l(E,L),l(E,M),l(E,P),l(E,k),u(t,$,o),u(t,y,o),l(y,v),l(y,x),l(y,K),l(y,O),l(y,Y),u(t,R,o),u(t,W,o),l(W,B),l(W,I),l(W,V),l(W,q),l(W,z),u(t,H,o),u(t,J,o),l(J,Q),l(Q,X),l(Q,Z),l(Q,tt),l(Q,nt),l(Q,et),l(J,ot);for(let t=0;t<gt.length;t+=1)gt[t]&&gt[t].m(J,null);u(t,rt,o),u(t,ct,o),u(t,lt,o),u(t,ut,o),it||(st=[d(M,"click",n[10]),d(v,"click",n[11]),d(Y,"click",n[12]),d(V,"click",n[13])],it=!0)},p(t,n){if(t[1]?dt||(dt=w(),dt.c(),dt.m(c.parentNode,c)):dt&&(dt.d(1),dt=null),t[2]?Ft?Ft.p(t,n):(Ft=D(t),Ft.c(),Ft.m(T.parentNode,T)):Ft&&(Ft.d(1),Ft=null),1&n[0]&&h(U,t[0]),72&n[0]){let e;for(ht=t[3],e=0;e<ht.length;e+=1){const o=C(t,ht,e);Tt[e]?Tt[e].p(o,n):(Tt[e]=j(o),Tt[e].c(),Tt[e].m(p,null))}for(;e<Tt.length;e+=1)Tt[e].d(1);Tt.length=ht.length}if(16&n[0]&&at!==(at=t[4][0].NAME+"")&&h(X,at),16&n[0]&&ft!==(ft=t[4][0].LFP+"")&&h(tt,ft),16&n[0]&&Nt!==(Nt=t[4][0].ATK+"")&&h(et,Nt),32&n[0]){let e;for(_t=Object.keys(t[5]),e=0;e<_t.length;e+=1){const o=S(t,_t,e);gt[e]?gt[e].p(o,n):(gt[e]=G(o),gt[e].c(),gt[e].m(J,null))}for(;e<gt.length;e+=1)gt[e].d(1);gt.length=_t.length}},i:t,o:t,d(t){t&&i(e),t&&i(r),dt&&dt.d(t),t&&i(c),Ft&&Ft.d(t),t&&i(T),t&&i(_),t&&i(m),t&&i(p),s(Tt,t),t&&i(A),t&&i(E),t&&i($),t&&i(y),t&&i(R),t&&i(W),t&&i(H),t&&i(J),s(gt,t),t&&i(rt),t&&i(ct),t&&i(lt),t&&i(ut),it=!1,o(st)}}}function I(t,n,e){let o=[5,5],r=0,c=!1,l="",u=[],i=[],s=[{NAME:"USR",LFP:5,ATK:1}],a={};const f=(t,n)=>{o=[t,n];const e=[[n,n-1],[n,n+1],[n-1,n],[n+1,n]];return u=e,console.log(o[0],o[1],u),e},N=(t,n)=>{e(3,i[t][n][2]="NON",i),e(3,i[t][n][3]="background-color: #FFFFFF",i)};function d(t){const n={w:[-1,0],a:[0,-1],s:[1,0],d:[0,1]};if("t"===t.key)return void((t,n,r)=>{const c="UNT_NUM_"+t.toString(),l=s[0].ATK;if(e(5,a[c].LFP-=l,a),a[c].LFP<=0){const t=[o[0]+n,o[1]+r];N(t[0],t[1]),e(3,i[t[0]][t[1]][3]="background-color: #FFFFFF",i),e(5,a=R.omit([c],a))}})(0,-1,0);if("g"===t.key)return void F(0);if("b"===t.key)return void F(1);const l=[o[0]+n[t.key][0],o[1]+n[t.key][1]];"BLC"===i[l[0]][l[1]][2]&&(e(0,r+=1),N(l[0],l[1])),"USR"!==i[l[0]][l[1]][2]&&("GOL"===i[l[0]][l[1]][2]&&(e(1,c=!0),document.removeEventListener("keypress",d),setTimeout((()=>{T({when_mounted_time:!1})}),1e3)),"NON"===i[l[0]][l[1]][2]&&(e(3,i[l[0]][l[1]][2]="USR",i),e(3,i[o[0]][o[1]][2]="NON",i),e(3,i[l[0]][l[1]][3]="background-color: #0000FF",i),e(3,i[o[0]][o[1]][3]="background-color: #FFFFFF",i),console.log(),o=l),F(0),F(2),F(3),F(4),F(5),F(6),F(7),F(8),F(9),F(10),F(11),F(12),F(13),F(14),F(15),F(16))}const F=(t=0)=>{try{const n=i.map((t=>t.filter((t=>"USR"===t[2])))).filter((t=>t.length>0))[0][0],o=((t=0)=>{try{const n=t.toString(),e=(t.toString(),i.map((t=>t.filter((t=>"UNT"===t[2].TYPE&&t[2].NAME==="UNT_"+n)))).filter((t=>t.length>0))[0][0]),[o,r]=[e[0],e[1]];return[o,r]}catch(n){console.log(t),console.log(n)}})(t);if(o[1]===n[1]&&o[0]===n[0]-1||o[1]===n[1]&&o[0]===n[0]+1||o[0]===n[0]&&o[0]===n[1]-1||o[0]===n[0]&&o[0]===n[1]+1)return void(t=>{const n="UNT_NUM_"+t.toString(),o=a[n].ATK;e(4,s[0].LFP-=o,s),s[0].LFP<=0&&(e(2,l="YOU DIED, GAME OVER"),setTimeout((()=>{T({when_mounted_time:!1})}),1e3))})(t);Math.floor(4*Math.random());const r=[[o[0],o[1]-1],[o[0],o[1]+1],[o[0]-1,o[1]],[o[0]+1,o[1]]];let c=shuffle(r);for(let n=0;n<c.length;n++){let r=c[n];"NON"===i[r[0]][r[1]][2]&&(N(o[0],o[1]),e(3,i[o[0]][o[1]][3]="background-color: #FFFFFF",i),e(3,i[r[0]][r[1]][2]=a["UNT_NUM_"+t],i),e(3,i[r[0]][r[1]][3]="background-color: #00FF00",i),c=[])}}catch(t){console.log(t)}},h=()=>{(()=>{const t=i.map((t=>t.filter((t=>"NON"===t[2])))).flat().map((t=>t.slice(0,2)));Object.entries(a).forEach(((n,o)=>{const r="UNT_NUM_"+o.toString(),c=shuffle(t)[0];e(3,i[c[0]][c[1]][2]=a[r],i),e(3,i[c[0]][c[1]][3]="background-color: #00FF00",i)}))})()},T=({when_mounted_time:t=!0})=>{if(!1===t){if(!confirm("Again？"))return;T({when_mounted_time:!0})}var n,f;e(3,i=R.xprod(R.range(0,10),R.range(0,10)).map((t=>t.concat(["BLC"]))).map((t=>t.concat(["background-color: #808080"])))),e(3,i=R.splitEvery(10,i)),e(3,i[5][5][2]="USR",i),e(3,i[5][5][3]="background-color: #0000FF",i),e(2,l=""),e(4,s=[{NAME:"USR",LFP:5,ATK:1}]),e(5,a={UNT_NUM_0:{TYPE:"UNT",NAME:"UNT_0",LFP:3,ATK:1},UNT_NUM_1:{TYPE:"UNT",NAME:"UNT_1",LFP:2,ATK:2},UNT_NUM_2:{TYPE:"UNT",NAME:"UNT_2",LFP:2,ATK:3},UNT_NUM_3:{TYPE:"UNT",NAME:"UNT_3",LFP:2,ATK:4},UNT_NUM_4:{TYPE:"UNT",NAME:"UNT_4",LFP:4,ATK:1},UNT_NUM_5:{TYPE:"UNT",NAME:"UNT_5",LFP:4,ATK:2},UNT_NUM_6:{TYPE:"UNT",NAME:"UNT_6",LFP:5,ATK:1},UNT_NUM_7:{TYPE:"UNT",NAME:"UNT_7",LFP:5,ATK:2},UNT_NUM_8:{TYPE:"UNT",NAME:"UNT_8",LFP:5,ATK:3},UNT_NUM_9:{TYPE:"UNT",NAME:"UNT_9",LFP:5,ATK:4},UNT_NUM_10:{TYPE:"UNT",NAME:"UNT_10",LFP:6,ATK:1},UNT_NUM_11:{TYPE:"UNT",NAME:"UNT_11",LFP:6,ATK:2},UNT_NUM_12:{TYPE:"UNT",NAME:"UNT_12",LFP:6,ATK:3},UNT_NUM_13:{TYPE:"UNT",NAME:"UNT_13",LFP:6,ATK:4},UNT_NUM_14:{TYPE:"UNT",NAME:"UNT_14",LFP:1,ATK:1},UNT_NUM_15:{TYPE:"UNT",NAME:"UNT_15",LFP:1,ATK:2},UNT_NUM_16:{TYPE:"UNT",NAME:"UNT_16",LFP:1,ATK:3}}),f=9,e(3,i[n=0][f][2]="GOL",i),e(3,i[n][f][3]="background-color: #FFFF00",i),e(0,r=0),e(1,c=!1),u=[],o=[5,5],((t=80)=>{const n=i.map((t=>t.filter((t=>"BLC"===t[2])))).flat().length,e=Math.floor(n*(t/100));for(let t=0;t<e;t++){const t=[shuffle([0,1,2,3,4,5,6,7,8,9])[0],shuffle([0,1,2,3,4,5,6,7,8,9])[0]];"USR"!==i[t[0]][t[1]][2]&&"GOL"!==i[t[0]][t[1]][2]&&N(t[0],t[1])}})(),e(3,i[5][4][2]="NON",i),e(3,i[5][4][3]="background-color: #FFFFFF",i),e(3,i[5][6][2]="NON",i),e(3,i[5][6][3]="background-color: #FFFFFF",i),e(3,i[4][5][2]="NON",i),e(3,i[4][5][3]="background-color: #FFFFFF",i),e(3,i[6][5][2]="NON",i),e(3,i[6][5][3]="background-color: #FFFFFF",i),e(3,i[5][3][2]="NON",i),e(3,i[5][3][3]="background-color: #FFFFFF",i),e(3,i[5][7][2]="NON",i),e(3,i[5][7][3]="background-color: #FFFFFF",i),e(3,i[3][5][2]="NON",i),e(3,i[3][5][3]="background-color: #FFFFFF",i),e(3,i[7][5][2]="NON",i),e(3,i[7][5][3]="background-color: #FFFFFF",i),h(),document.addEventListener("keypress",d)};g((async()=>{try{T({when_mounted_time:!0})}catch(t){console.log(t)}}));return[r,c,l,i,s,a,f,d,(t,n)=>f(t,n),(t,n)=>f(t,n),()=>d({key:"w"}),()=>d({key:"a"}),()=>d({key:"d"}),()=>d({key:"s"})]}return new class extends O{constructor(t){super(),K(this,t,I,B,c,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
