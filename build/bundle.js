var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function r(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function i(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function _(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function N(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function T(t,n){n=""+n,t.data!==n&&(t.data=n)}let U;function A(t){U=t}function d(t){(function(){if(!U)throw new Error("Function called outside component initialization");return U})().$$.on_mount.push(t)}const g=[],E=[];let P=[];const p=[],h=Promise.resolve();let m=!1;function b(t){P.push(t)}const L=new Set;let M=0;function v(){if(0!==M)return;const t=U;do{try{for(;M<g.length;){const t=g[M];M++,A(t),B(t.$$)}}catch(t){throw g.length=0,M=0,t}for(A(null),g.length=0,M=0;E.length;)E.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];L.has(n)||(L.add(n),n())}P.length=0}while(g.length);for(;p.length;)p.pop()();m=!1,L.clear(),A(t)}function B(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(b)}}const K=new Set;function C(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];P.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),P=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function k(t,n){-1===t.$$.dirty[0]&&(g.push(t),m||(m=!0,h.then(v)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function I(c,r,s,u,i,a,f,_=[-1]){const N=U;A(c);const T=c.$$={fragment:null,ctx:[],props:a,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(N?N.$$.context:[])),callbacks:e(),dirty:_,skip_bound:!1,root:r.target||N.$$.root};f&&f(T.root);let d=!1;if(T.ctx=s?s(c,r.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return T.ctx&&i(T.ctx[t],T.ctx[t]=o)&&(!T.skip_bound&&T.bound[t]&&T.bound[t](o),d&&k(c,t)),n})):[],T.update(),d=!0,o(T.before_update),T.fragment=!!u&&u(T.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);T.fragment&&T.fragment.l(t),t.forEach(F)}else T.fragment&&T.fragment.c();r.intro&&((g=c.$$.fragment)&&g.i&&(K.delete(g),g.i(E))),function(t,e,c,r){const{fragment:s,after_update:F}=t.$$;s&&s.m(e,c),r||b((()=>{const e=t.$$.on_mount.map(n).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),F.forEach(b)}(c,r.target,r.anchor,r.customElement),v()}var g,E;A(N)}class y{$destroy(){C(this,1),this.$destroy=t}$on(n,e){if(!l(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function S(t,n,e){const o=t.slice();return o[48]=n[e],o[50]=e,o}function $(t,n,e){const o=t.slice();return o[48]=n[e],o[50]=e,o}function Y(t,n,e){const o=t.slice();return o[52]=n[e],o}function O(t,n,e){const o=t.slice();return o[48]=n[e],o[50]=e,o}function D(t,n,e){const o=t.slice();return o[56]=n[e],o[58]=e,o}function x(t,n,e){const o=t.slice();return o[59]=n[e],o[61]=e,o}function G(t,n,e){const o=t.slice();return o[62]=n[e],o[64]=e,o}function Q(t){let n;return{c(){n=i("div"),n.textContent="GOAL"},m(t,e){s(t,n,e)},d(t){t&&F(n)}}}function w(t){let n,e;return{c(){n=i("div"),e=a(t[8])},m(t,o){s(t,n,o),r(n,e)},p(t,n){256&n[0]&&T(e,t[8])},d(t){t&&F(n)}}}function W(t){let n,e,l,c,u;function f(){return t[15](t[61],t[64])}function T(){return t[16](t[61],t[64])}return{c(){n=i("span"),e=a("□"),N(n,"style",l=t[62][3])},m(t,o){s(t,n,o),r(n,e),c||(u=[_(n,"keydown",f),_(n,"click",T)],c=!0)},p(e,o){t=e,512&o[0]&&l!==(l=t[62][3])&&N(n,"style",l)},d(t){t&&F(n),c=!1,o(u)}}}function j(t){let n,e,o=t[59],l=[];for(let n=0;n<o.length;n+=1)l[n]=W(G(t,o,n));return{c(){n=i("li");for(let t=0;t<l.length;t+=1)l[t].c();e=f(),N(n,"class","CELL")},m(t,o){s(t,n,o);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);r(n,e)},p(t,c){if(8704&c[0]){let r;for(o=t[59],r=0;r<o.length;r+=1){const s=G(t,o,r);l[r]?l[r].p(s,c):(l[r]=W(s),l[r].c(),l[r].m(n,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=o.length}},d(t){t&&F(n),u(l,t)}}}function H(t){let n,e,o,l,c,_,N,U,A,d,g,E,P,p=t[48].RARITY+"",h=t[48].LFP_BUFF+"",m=t[48].ATK_BUFF+"",b=t[48].MAGIC[0].MAGIC_COUNT+"",L=t[48].MAGIC[0].MAGIC_COUNT>=1&&q(t),M=t[48].MAGIC[1],v=[];for(let n=0;n<M.length;n+=1)v[n]=V(D(t,M,n));return{c(){n=i("div"),e=a("RARITY: "),o=a(p),l=a("\n\t\t\t\t\t\t\t\t\t\t\tLFP_BUFF: "),c=a(h),_=a("\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tATK_BUFF: "),N=a(m),U=f(),A=i("div"),L&&L.c(),d=a("\n\t\t\t\t\t\t\t\t\t\t\t\t\tMAGIC_COUNT: "),g=a(b),E=f();for(let t=0;t<v.length;t+=1)v[t].c();P=f()},m(t,F){s(t,n,F),r(n,e),r(n,o),r(n,l),r(n,c),r(n,_),r(n,N),r(n,U),r(n,A),L&&L.m(A,null),r(A,d),r(A,g),r(A,E);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(A,null);r(n,P)},p(t,n){if(1&n[0]&&p!==(p=t[48].RARITY+"")&&T(o,p),1&n[0]&&h!==(h=t[48].LFP_BUFF+"")&&T(c,h),1&n[0]&&m!==(m=t[48].ATK_BUFF+"")&&T(N,m),t[48].MAGIC[0].MAGIC_COUNT>=1?L?L.p(t,n):(L=q(t),L.c(),L.m(A,d)):L&&(L.d(1),L=null),1&n[0]&&b!==(b=t[48].MAGIC[0].MAGIC_COUNT+"")&&T(g,b),1&n[0]){let e;for(M=t[48].MAGIC[1],e=0;e<M.length;e+=1){const o=D(t,M,e);v[e]?v[e].p(o,n):(v[e]=V(o),v[e].c(),v[e].m(A,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=M.length}},d(t){t&&F(n),L&&L.d(),u(v,t)}}}function q(t){let n,e,o;function l(){return t[21](t[48],t[50])}return{c(){n=i("button"),n.textContent="MAGIC"},m(t,c){s(t,n,c),e||(o=_(n,"click",l),e=!0)},p(n,e){t=n},d(t){t&&F(n),e=!1,o()}}}function V(t){let n,e,o,l=t[56]+"";return{c(){n=i("div"),e=a(l),o=f()},m(t,l){s(t,n,l),r(n,e),r(n,o)},p(t,n){1&n[0]&&l!==(l=t[56]+"")&&T(e,l)},d(t){t&&F(n)}}}function z(t){let n,e=t[48]&&H(t);return{c(){e&&e.c(),n=a("")},m(t,o){e&&e.m(t,o),s(t,n,o)},p(t,o){t[48]?e?e.p(t,o):(e=H(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&F(n)}}}function X(t){let n,e,o,l,c,u,f=t[1][t[52]].NAME+"",_=t[1][t[52]].LFP+"",N=t[1][t[52]].ATK+"";return{c(){n=i("div"),e=a(f),o=a(" LFP: "),l=a(_),c=a(" ATK: "),u=a(N)},m(t,F){s(t,n,F),r(n,e),r(n,o),r(n,l),r(n,c),r(n,u)},p(t,n){2&n[0]&&f!==(f=t[1][t[52]].NAME+"")&&T(e,f),2&n[0]&&_!==(_=t[1][t[52]].LFP+"")&&T(l,_),2&n[0]&&N!==(N=t[1][t[52]].ATK+"")&&T(u,N)},d(t){t&&F(n)}}}function J(t){let n,e,o,l,c,u,U,A,d,g,E,P,p,h,m,b,L,M,v=t[48].RARITY+"",R=t[48].LFP_BUFF+"",B=t[48].LFP_DEBUFF+"",K=t[48].ATK_BUFF+"",C=t[48].ATK_DEBUFF+"";function k(){return t[22](t[48])}return{c(){n=i("span"),e=a(v),o=f(),l=i("span"),c=a(R),u=f(),U=i("span"),A=a(B),d=f(),g=i("span"),E=a(K),P=f(),p=i("span"),h=a(C),m=f(),b=i("button"),b.textContent="set_EQP",N(n,"class","EQP_SPAN svelte-13164b6"),N(l,"class","EQP_SPAN svelte-13164b6"),N(U,"class","EQP_SPAN svelte-13164b6"),N(g,"class","EQP_SPAN svelte-13164b6"),N(p,"class","EQP_SPAN svelte-13164b6")},m(t,F){s(t,n,F),r(n,e),s(t,o,F),s(t,l,F),r(l,c),s(t,u,F),s(t,U,F),r(U,A),s(t,d,F),s(t,g,F),r(g,E),s(t,P,F),s(t,p,F),r(p,h),s(t,m,F),s(t,b,F),L||(M=_(b,"click",k),L=!0)},p(n,o){t=n,8&o[0]&&v!==(v=t[48].RARITY+"")&&T(e,v),8&o[0]&&R!==(R=t[48].LFP_BUFF+"")&&T(c,R),8&o[0]&&B!==(B=t[48].LFP_DEBUFF+"")&&T(A,B),8&o[0]&&K!==(K=t[48].ATK_BUFF+"")&&T(E,K),8&o[0]&&C!==(C=t[48].ATK_DEBUFF+"")&&T(h,C)},d(t){t&&F(n),t&&F(o),t&&F(l),t&&F(u),t&&F(U),t&&F(d),t&&F(g),t&&F(P),t&&F(p),t&&F(m),t&&F(b),L=!1,M()}}}function Z(t){let n,e,o=t[48]&&J(t);return{c(){n=i("li"),o&&o.c(),e=f()},m(t,l){s(t,n,l),o&&o.m(n,null),r(n,e)},p(t,l){t[48]?o?o.p(t,l):(o=J(t),o.c(),o.m(n,e)):o&&(o.d(1),o=null)},d(t){t&&F(n),o&&o.d()}}}function tt(n){let e,o,l=n[48]&&function(n){let e,o,l,c,u,_,T,U,A,d,g,E,P,p,h=n[48].RARITY+"",m=n[48].LFP_BUFF+"",b=n[48].LFP_DEBUFF+"",L=n[48].ATK_BUFF+"",M=n[48].ATK_DEBUFF+"";return{c(){e=i("span"),o=a(h),l=f(),c=i("span"),u=a(m),_=f(),T=i("span"),U=a(b),A=f(),d=i("span"),g=a(L),E=f(),P=i("span"),p=a(M),N(e,"class","EQP_SPAN svelte-13164b6"),N(c,"class","EQP_SPAN svelte-13164b6"),N(T,"class","EQP_SPAN svelte-13164b6"),N(d,"class","EQP_SPAN svelte-13164b6"),N(P,"class","EQP_SPAN svelte-13164b6")},m(t,n){s(t,e,n),r(e,o),s(t,l,n),s(t,c,n),r(c,u),s(t,_,n),s(t,T,n),r(T,U),s(t,A,n),s(t,d,n),r(d,g),s(t,E,n),s(t,P,n),r(P,p)},p:t,d(t){t&&F(e),t&&F(l),t&&F(c),t&&F(_),t&&F(T),t&&F(A),t&&F(d),t&&F(E),t&&F(P)}}}(n);return{c(){e=i("li"),l&&l.c(),o=f()},m(t,n){s(t,e,n),l&&l.m(e,null),r(e,o)},p(t,n){t[48]&&l.p(t,n)},d(t){t&&F(e),l&&l.d()}}}function nt(n){let e,l,c,U,A,d,g,E,P,p,h,m,b,L,M,v,R,B,K,C,k,I,y,D,G,W,H,q,V,J,nt,et,ot,lt,ct,rt,st,Ft,ut,it,at,ft,_t,Nt,Tt,Ut,At,dt,gt,Et,Pt,pt,ht,mt,bt,Lt,Mt,vt,Rt,Bt,Kt,Ct,kt,It,yt,St,$t=n[0][0].NAME+"",Yt=n[0][0].LFP+"",Ot=n[0][0].ATK+"",Dt=n[7]&&Q(),xt=n[8]&&w(n),Gt=n[9],Qt=[];for(let t=0;t<Gt.length;t+=1)Qt[t]=j(x(n,Gt,t));let wt=n[0][0].EQP,Wt=[];for(let t=0;t<wt.length;t+=1)Wt[t]=z(O(n,wt,t));let jt=Object.keys(n[1]),Ht=[];for(let t=0;t<jt.length;t+=1)Ht[t]=X(Y(n,jt,t));let qt=n[3],Vt=[];for(let t=0;t<qt.length;t+=1)Vt[t]=Z($(n,qt,t));let zt=n[11],Xt=[];for(let t=0;t<zt.length;t+=1)Xt[t]=tt(S(n,zt,t));return{c(){e=i("div"),l=i("div"),c=f(),Dt&&Dt.c(),U=f(),xt&&xt.c(),A=f(),d=i("div"),g=a("PICKEL: "),E=a(n[6]),P=f(),p=i("ul");for(let t=0;t<Qt.length;t+=1)Qt[t].c();h=f(),m=i("div"),b=i("button"),b.textContent="◾️",L=f(),M=i("button"),M.textContent="W",v=f(),R=i("button"),R.textContent="◾️",B=f(),K=i("div"),C=i("button"),C.textContent="A",k=f(),I=i("button"),I.textContent="◾️",y=f(),D=i("button"),D.textContent="D",G=f(),W=i("div"),H=i("button"),H.textContent="◾️",q=f(),V=i("button"),V.textContent="S",J=f(),nt=i("button"),nt.textContent="◾️",et=f(),ot=i("div"),lt=i("div"),ct=a($t),rt=a("\n\t\t\t\t\t\t\t\t\tLFP: "),st=a(Yt),Ft=a("\n\t\t\t\t\t\t\t\t\tATK: "),ut=a(Ot),it=f();for(let t=0;t<Wt.length;t+=1)Wt[t].c();at=f();for(let t=0;t<Ht.length;t+=1)Ht[t].c();ft=f(),_t=i("div"),_t.textContent="Ver 0.0.0.8",Nt=f(),Tt=i("a"),Tt.textContent="GitHub",Ut=f(),At=i("div"),dt=i("button"),dt.textContent="slot_exe_once",gt=f(),Et=i("div"),Et.textContent="MINE",Pt=a("\n\t\tGOLD: "),pt=a(n[2]),ht=a("\n\t\tKAKUHEN: "),mt=a(n[4]),bt=a("\n\t\tKAKUHEN_COUNTER: "),Lt=a(n[5]),Mt=f(),vt=i("ul"),Rt=i("li"),Rt.innerHTML='<span class="EQP_SPAN svelte-13164b6">RARITY</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">LFP_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">LFP_DEBUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">ATK_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">ATK_DEBUFF</span>',Bt=f();for(let t=0;t<Vt.length;t+=1)Vt[t].c();Kt=f(),Ct=i("ul"),kt=i("li"),kt.innerHTML='<span class="EQP_SPAN svelte-13164b6">RARITY</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">LFP_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">LFP_DEBUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">ATK_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-13164b6">ATK_DEBUFF</span>',It=f();for(let t=0;t<Xt.length;t+=1)Xt[t].c();N(b,"class","WASD_NULL svelte-13164b6"),N(M,"class","WASD svelte-13164b6"),N(R,"class","WASD_NULL svelte-13164b6"),N(C,"class","WASD svelte-13164b6"),N(I,"class","WASD_NULL svelte-13164b6"),N(D,"class","WASD svelte-13164b6"),N(H,"class","WASD_NULL svelte-13164b6"),N(V,"class","WASD svelte-13164b6"),N(nt,"class","WASD_NULL svelte-13164b6"),N(Tt,"href","https://github.com/taroyanaka/game/"),N(e,"class","field svelte-13164b6"),N(At,"class","gacha svelte-13164b6")},m(t,o){s(t,e,o),r(e,l),r(e,c),Dt&&Dt.m(e,null),r(e,U),xt&&xt.m(e,null),r(e,A),r(e,d),r(d,g),r(d,E),r(e,P),r(e,p);for(let t=0;t<Qt.length;t+=1)Qt[t]&&Qt[t].m(p,null);r(e,h),r(e,m),r(m,b),r(m,L),r(m,M),r(m,v),r(m,R),r(e,B),r(e,K),r(K,C),r(K,k),r(K,I),r(K,y),r(K,D),r(e,G),r(e,W),r(W,H),r(W,q),r(W,V),r(W,J),r(W,nt),r(e,et),r(e,ot),r(ot,lt),r(lt,ct),r(lt,rt),r(lt,st),r(lt,Ft),r(lt,ut),r(lt,it);for(let t=0;t<Wt.length;t+=1)Wt[t]&&Wt[t].m(lt,null);r(ot,at);for(let t=0;t<Ht.length;t+=1)Ht[t]&&Ht[t].m(ot,null);r(e,ft),r(e,_t),r(e,Nt),r(e,Tt),s(t,Ut,o),s(t,At,o),r(At,dt),r(At,gt),r(At,Et),r(At,Pt),r(At,pt),r(At,ht),r(At,mt),r(At,bt),r(At,Lt),r(At,Mt),r(At,vt),r(vt,Rt),r(vt,Bt);for(let t=0;t<Vt.length;t+=1)Vt[t]&&Vt[t].m(vt,null);r(At,Kt),r(At,Ct),r(Ct,kt),r(Ct,It);for(let t=0;t<Xt.length;t+=1)Xt[t]&&Xt[t].m(Ct,null);yt||(St=[_(M,"click",n[17]),_(C,"click",n[18]),_(D,"click",n[19]),_(V,"click",n[20]),_(dt,"click",n[12])],yt=!0)},p(t,n){if(t[7]?Dt||(Dt=Q(),Dt.c(),Dt.m(e,U)):Dt&&(Dt.d(1),Dt=null),t[8]?xt?xt.p(t,n):(xt=w(t),xt.c(),xt.m(e,A)):xt&&(xt.d(1),xt=null),64&n[0]&&T(E,t[6]),8704&n[0]){let e;for(Gt=t[9],e=0;e<Gt.length;e+=1){const o=x(t,Gt,e);Qt[e]?Qt[e].p(o,n):(Qt[e]=j(o),Qt[e].c(),Qt[e].m(p,null))}for(;e<Qt.length;e+=1)Qt[e].d(1);Qt.length=Gt.length}if(1&n[0]&&$t!==($t=t[0][0].NAME+"")&&T(ct,$t),1&n[0]&&Yt!==(Yt=t[0][0].LFP+"")&&T(st,Yt),1&n[0]&&Ot!==(Ot=t[0][0].ATK+"")&&T(ut,Ot),16385&n[0]){let e;for(wt=t[0][0].EQP,e=0;e<wt.length;e+=1){const o=O(t,wt,e);Wt[e]?Wt[e].p(o,n):(Wt[e]=z(o),Wt[e].c(),Wt[e].m(lt,null))}for(;e<Wt.length;e+=1)Wt[e].d(1);Wt.length=wt.length}if(2&n[0]){let e;for(jt=Object.keys(t[1]),e=0;e<jt.length;e+=1){const o=Y(t,jt,e);Ht[e]?Ht[e].p(o,n):(Ht[e]=X(o),Ht[e].c(),Ht[e].m(ot,null))}for(;e<Ht.length;e+=1)Ht[e].d(1);Ht.length=jt.length}if(4&n[0]&&T(pt,t[2]),16&n[0]&&T(mt,t[4]),32&n[0]&&T(Lt,t[5]),1033&n[0]){let e;for(qt=t[3],e=0;e<qt.length;e+=1){const o=$(t,qt,e);Vt[e]?Vt[e].p(o,n):(Vt[e]=Z(o),Vt[e].c(),Vt[e].m(vt,null))}for(;e<Vt.length;e+=1)Vt[e].d(1);Vt.length=qt.length}if(2048&n[0]){let e;for(zt=t[11],e=0;e<zt.length;e+=1){const o=S(t,zt,e);Xt[e]?Xt[e].p(o,n):(Xt[e]=tt(o),Xt[e].c(),Xt[e].m(Ct,null))}for(;e<Xt.length;e+=1)Xt[e].d(1);Xt.length=zt.length}},i:t,o:t,d(t){t&&F(e),Dt&&Dt.d(),xt&&xt.d(),u(Qt,t),u(Wt,t),u(Ht,t),t&&F(Ut),t&&F(At),u(Vt,t),u(Xt,t),yt=!1,o(St)}}}function et(t,n,e){const o=[{NAME:"USR",LFP:50,ATK:1,EQP:[{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:4,ATK_DEBUFF:0,MAGIC:[{MAGIC_COUNT:0},[[0,0,0],[0,"U",0],[0,0,0]]]},{RARITY:2,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:0,ATK_DEBUFF:0,MAGIC:[{MAGIC_COUNT:3},[[0,1,0],[1,"U",1],[0,1,0]]]},{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:0,ATK_DEBUFF:0,MAGIC:[{MAGIC_COUNT:1},[[1,1,1,1,1],[1,0,0,0,1],[1,0,"U",0,1],[1,0,0,0,1],[1,1,1,1,1]]]}]}];let l=R.clone(o);const c=(t,n,o)=>{l[0].EQP.length>=o||e(0,l[0].EQP=R.append(n,l[0].EQP),l)};let r={},s=1e3,F=[],u=!1,i=0,a=[5,5],f=0,_=!1,N="",T=[],U=[],A=[{RARITY:0,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:1,ATK_DEBUFF:0},{RARITY:1,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:2,ATK_DEBUFF:0},{RARITY:2,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:3,ATK_DEBUFF:0},{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:4,ATK_DEBUFF:0},{RARITY:90,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:10,ATK_DEBUFF:0}].reduce(((t,n)=>{n.RARITY;const e=90===n.RARITY?1:0===n.RARITY?80:n.RARITY;for(let o=0;o<e;o++)t.push(n);return t}),[]),g=shuffle(A);shuffle(A.slice(0,100));const E=()=>{const t=u?((t,n)=>{const e=g.filter((n=>n.RARITY===t)),o=e.slice(0,e.length-e.length*(n/100)),l=g.filter((n=>n.RARITY!==t)),c=o.concat(l);return shuffle(c)})(0,90):g,n=shuffle(t)[0];s<1||(e(2,s-=1),e(3,F=R.append(n,F)),F.slice(-shuffle([2,3])[0]).every((t=>t.RARITY>=1))&&e(4,u=!0),!0===u&&(e(5,i+=1),e(4,u=!(i>=30)),e(5,i=i>=30?0:i)))};document.addEventListener("keypress",(function(t){E(),t.key}));const P=t=>{try{(t=>{const n=t.map((t=>t.map(((n,e)=>"U"===n?[e,t.indexOf(n)]:null)))).flat().filter(((t,n)=>null!==t))[0];return t.map(((t,n)=>t.map(((t,e)=>1===t?[n,e]:null)))).flat().filter((t=>null!==t)).map((t=>[t[0]-n[0],t[1]-n[1]]))})(t).forEach((t=>{const n=a[0]+t[0],o=a[1]+t[1];if(console.log(n,o),console.log(U[n][o][2]),"GOL"===U[n][o][2]||"BLC"===U[n][o][2]||"NON"===U[n][o][2]||"USR"===U[n][o][2])return;const c="UNT_NUM_"+Number(U[n][o][2].NAME.replaceAll("UNT_","")).toString(),s=l[0].EQP.reduce(((t,n)=>t+n.ATK_BUFF),0)||0,F=l[0].ATK+s;if(e(1,r[c].LFP-=F,r),r[c].LFP<=0){const t=[n,o];h(t[0],t[1]),e(9,U[t[0]][t[1]][3]="background-color: #FFFFFF",U),e(1,r=R.omit([c],r))}}))}catch(t){console.log(t)}},p=(t,n)=>{a=[t,n];const e=[[n,n-1],[n,n+1],[n-1,n],[n+1,n]];return T=e,console.log(a[0],a[1],T),e},h=(t,n)=>{e(9,U[t][n][2]="NON",U),e(9,U[t][n][3]="background-color: #FFFFFF",U)};function m(t){const n={w:[-1,0],a:[0,-1],s:[1,0],d:[0,1],m:null};if(t.Magic)return o=t.Eqp_I,e(0,l[0].EQP[o].MAGIC[0].MAGIC_COUNT-=1,l),P(t.Magic[1]),void Object.entries(r).map(((t,n)=>{b(t[1].NAME)}));var o;if("t"===t.key)return void P(l[0].EQP[1].MAGIC[1]);if("g"===t.key)return void P(l[0].EQP[2].MAGIC);if("b"===t.key)return void b(1);const c=[a[0]+n[t.key][0],a[1]+n[t.key][1]];if("BLC"===U[c[0]][c[1]][2]&&(e(6,f+=1),h(c[0],c[1])),"USR"!==U[c[0]][c[1]][2]){if("GOL"===U[c[0]][c[1]][2]&&(e(7,_=!0),document.removeEventListener("keypress",m),setTimeout((()=>{M({when_mounted_time:!1})}),1e3)),!t.Magic){(()=>{"NON"===U[c[0]][c[1]][2]&&(e(9,U[c[0]][c[1]][2]="USR",U),e(9,U[a[0]][a[1]][2]="NON",U),e(9,U[c[0]][c[1]][3]="background-color: #0000FF",U),e(9,U[a[0]][a[1]][3]="background-color: #FFFFFF",U),console.log(),a=c)})(),((t,n)=>{if(console.log("Go_to_Y, Go_to_X",t,n),console.log("attack_USR_to_UNT"),console.log(U[t][n][2]),"UNT"!==U[t][n][2].TYPE)return void console.log("UNTが存在しない");const o="UNT_NUM_"+Number(U[t][n][2].NAME.slice(-1)).toString(),c=l[0].EQP.reduce(((t,n)=>t+n.ATK_BUFF),0)||0,s=l[0].ATK+c;if(console.log(o),e(1,r[o].LFP-=s,r),r[o].LFP<=0){const l=[t,n];h(l[0],l[1]),e(9,U[l[0]][l[1]][3]="background-color: #FFFFFF",U),e(1,r=R.omit([o],r))}})(c[0],c[1])}Object.entries(r).map(((t,n)=>{b(t[1].NAME)}))}}const b=t=>{try{const n=t?Number(t.replaceAll("UNT_","")):0,o=U.map((t=>t.filter((t=>"USR"===t[2])))).filter((t=>t.length>0))[0][0],c=((t=0)=>{try{const n=t.toString(),e=(t.toString(),U.map((t=>t.filter((t=>"UNT"===t[2].TYPE&&t[2].NAME==="UNT_"+n)))).filter((t=>t.length>0))[0][0]),[o,l]=[e[0],e[1]];return[o,l]}catch(t){console.log(t)}})(n);if(c[1]===o[1]&&c[0]===o[0]-1||c[1]===o[1]&&c[0]===o[0]+1||c[0]===o[0]&&c[0]===o[1]-1||c[0]===o[0]&&c[0]===o[1]+1)return void(t=>{const n="UNT_NUM_"+t.toString(),o=r[n].ATK;e(0,l[0].LFP-=o,l),l[0].LFP<=0&&(e(8,N="YOU DIED, GAME OVER"),setTimeout((()=>{M({when_mounted_time:!1})}),1e3))})(n);Math.floor(4*Math.random());const s=[[c[0],c[1]-1],[c[0],c[1]+1],[c[0]-1,c[1]],[c[0]+1,c[1]]];let F=shuffle(s);for(let t=0;t<F.length;t++){let o=F[t];"NON"===U[o[0]][o[1]][2]&&(h(c[0],c[1]),e(9,U[c[0]][c[1]][3]="background-color: #FFFFFF",U),e(9,U[o[0]][o[1]][2]=r["UNT_NUM_"+n],U),e(9,U[o[0]][o[1]][3]="background-color: #00FF00",U),F=[])}}catch(t){console.log(t)}},L=()=>{(()=>{const t=U.map((t=>t.filter((t=>"NON"===t[2])))).flat().map((t=>t.slice(0,2)));Object.entries(r).forEach(((n,o)=>{const l="UNT_NUM_"+o.toString(),c=shuffle(t)[0];e(9,U[c[0]][c[1]][2]=r[l],U),e(9,U[c[0]][c[1]][3]="background-color: #00FF00",U)}))})()},M=({when_mounted_time:t=!0})=>{if(!1===t){if(!confirm("Again？"))return;M({when_mounted_time:!0})}var n,c;e(9,U=R.xprod(R.range(0,10),R.range(0,10)).map((t=>t.concat(["BLC"]))).map((t=>t.concat(["background-color: #808080"])))),e(9,U=R.splitEvery(10,U)),e(9,U[5][5][2]="USR",U),e(9,U[5][5][3]="background-color: #0000FF",U),e(8,N=""),!1===t&&e(0,l=R.clone(o)),e(1,r={UNT_NUM_0:{TYPE:"UNT",NAME:"UNT_0",LFP:3,ATK:1},UNT_NUM_1:{TYPE:"UNT",NAME:"UNT_1",LFP:2,ATK:2},UNT_NUM_2:{TYPE:"UNT",NAME:"UNT_2",LFP:2,ATK:3},UNT_NUM_3:{TYPE:"UNT",NAME:"UNT_3",LFP:2,ATK:4},UNT_NUM_4:{TYPE:"UNT",NAME:"UNT_4",LFP:4,ATK:1},UNT_NUM_5:{TYPE:"UNT",NAME:"UNT_5",LFP:4,ATK:2},UNT_NUM_6:{TYPE:"UNT",NAME:"UNT_6",LFP:5,ATK:1},UNT_NUM_7:{TYPE:"UNT",NAME:"UNT_7",LFP:5,ATK:2},UNT_NUM_8:{TYPE:"UNT",NAME:"UNT_8",LFP:5,ATK:3},UNT_NUM_9:{TYPE:"UNT",NAME:"UNT_9",LFP:5,ATK:4},UNT_NUM_10:{TYPE:"UNT",NAME:"UNT_10",LFP:6,ATK:1},UNT_NUM_11:{TYPE:"UNT",NAME:"UNT_11",LFP:6,ATK:2},UNT_NUM_12:{TYPE:"UNT",NAME:"UNT_12",LFP:6,ATK:3},UNT_NUM_13:{TYPE:"UNT",NAME:"UNT_13",LFP:6,ATK:4},UNT_NUM_14:{TYPE:"UNT",NAME:"UNT_14",LFP:1,ATK:1},UNT_NUM_15:{TYPE:"UNT",NAME:"UNT_15",LFP:1,ATK:2},UNT_NUM_16:{TYPE:"UNT",NAME:"UNT_16",LFP:1,ATK:3}}),c=9,e(9,U[n=0][c][2]="GOL",U),e(9,U[n][c][3]="background-color: #FFFF00",U),e(6,f=0),e(7,_=!1),T=[],a=[5,5],((t=80)=>{const n=U.map((t=>t.filter((t=>"BLC"===t[2])))).flat().length,e=Math.floor(n*(t/100));for(let t=0;t<e;t++){const t=[shuffle([0,1,2,3,4,5,6,7,8,9])[0],shuffle([0,1,2,3,4,5,6,7,8,9])[0]];"USR"!==U[t[0]][t[1]][2]&&"GOL"!==U[t[0]][t[1]][2]&&h(t[0],t[1])}})(),e(9,U[5][4][2]="NON",U),e(9,U[5][4][3]="background-color: #FFFFFF",U),e(9,U[5][6][2]="NON",U),e(9,U[5][6][3]="background-color: #FFFFFF",U),e(9,U[4][5][2]="NON",U),e(9,U[4][5][3]="background-color: #FFFFFF",U),e(9,U[6][5][2]="NON",U),e(9,U[6][5][3]="background-color: #FFFFFF",U),e(9,U[5][3][2]="NON",U),e(9,U[5][3][3]="background-color: #FFFFFF",U),e(9,U[5][7][2]="NON",U),e(9,U[5][7][3]="background-color: #FFFFFF",U),e(9,U[3][5][2]="NON",U),e(9,U[3][5][3]="background-color: #FFFFFF",U),e(9,U[7][5][2]="NON",U),e(9,U[7][5][3]="background-color: #FFFFFF",U),L(),document.addEventListener("keypress",m)};d((async()=>{try{M({when_mounted_time:!0})}catch(t){console.log(t)}}));return[l,r,s,F,u,i,f,_,N,U,c,g,E,p,m,(t,n)=>p(t,n),(t,n)=>p(t,n),()=>m({key:"w"}),()=>m({key:"a"}),()=>m({key:"d"}),()=>m({key:"s"}),(t,n)=>m({key:"m",Magic:t.MAGIC,Eqp_I:n}),t=>c(l[0].NAME,t,3)]}return new class extends y{constructor(t){super(),I(this,t,et,nt,c,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
