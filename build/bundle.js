var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function a(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function u(t){return document.createElement(t)}function i(t){return document.createTextNode(t)}function _(){return i(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function U(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function T(t,n){n=""+n,t.data!==n&&(t.data=n)}let N;function A(t){N=t}function g(t){(function(){if(!N)throw new Error("Function called outside component initialization");return N})().$$.on_mount.push(t)}const d=[],P=[];let E=[];const p=[],h=Promise.resolve();let m=!1;function L(t){E.push(t)}const y=new Set;let B=0;function K(){if(0!==B)return;const t=N;do{try{for(;B<d.length;){const t=d[B];B++,A(t),M(t.$$)}}catch(t){throw d.length=0,B=0,t}for(A(null),d.length=0,B=0;P.length;)P.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];y.has(n)||(y.add(n),n())}E.length=0}while(d.length);for(;p.length;)p.pop()();m=!1,y.clear(),A(t)}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(L)}}const v=new Set;function b(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];E.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),E=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function k(t,n){-1===t.$$.dirty[0]&&(d.push(t),m||(m=!0,h.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function S(r,c,s,a,u,i,_,f=[-1]){const U=N;A(r);const T=r.$$={fragment:null,ctx:[],props:i,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(U?U.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:c.target||U.$$.root};_&&_(T.root);let g=!1;if(T.ctx=s?s(r,c.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return T.ctx&&u(T.ctx[t],T.ctx[t]=o)&&(!T.skip_bound&&T.bound[t]&&T.bound[t](o),g&&k(r,t)),n})):[],T.update(),g=!0,o(T.before_update),T.fragment=!!a&&a(T.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);T.fragment&&T.fragment.l(t),t.forEach(F)}else T.fragment&&T.fragment.c();c.intro&&((d=r.$$.fragment)&&d.i&&(v.delete(d),d.i(P))),function(t,e,r,c){const{fragment:s,after_update:F}=t.$$;s&&s.m(e,r),c||L((()=>{const e=t.$$.on_mount.map(n).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),F.forEach(L)}(r,c.target,c.anchor,c.customElement),K()}var d,P;A(U)}class Y{$destroy(){b(this,1),this.$destroy=t}$on(n,e){if(!l(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function $(t,n,e){const o=t.slice();return o[43]=n[e],o[45]=e,o}function D(t,n,e){const o=t.slice();return o[43]=n[e],o[45]=e,o}function I(t,n,e){const o=t.slice();return o[47]=n[e],o}function C(t,n,e){const o=t.slice();return o[43]=n[e],o[45]=e,o}function x(t,n,e){const o=t.slice();return o[51]=n[e],o[53]=e,o}function O(t,n,e){const o=t.slice();return o[54]=n[e],o[56]=e,o}function Q(t){let n;return{c(){n=u("div"),n.textContent="GOAL"},m(t,e){s(t,n,e)},d(t){t&&F(n)}}}function G(t){let n,e;return{c(){n=u("div"),e=i(t[8])},m(t,o){s(t,n,o),c(n,e)},p(t,n){256&n[0]&&T(e,t[8])},d(t){t&&F(n)}}}function w(t){let n,e,l,r,a;function _(){return t[15](t[53],t[56])}function T(){return t[16](t[53],t[56])}return{c(){n=u("span"),e=i("□"),U(n,"style",l=t[54][3])},m(t,o){s(t,n,o),c(n,e),r||(a=[f(n,"keydown",_),f(n,"click",T)],r=!0)},p(e,o){t=e,512&o[0]&&l!==(l=t[54][3])&&U(n,"style",l)},d(t){t&&F(n),r=!1,o(a)}}}function W(t){let n,e,o=t[51],l=[];for(let n=0;n<o.length;n+=1)l[n]=w(O(t,o,n));return{c(){n=u("li");for(let t=0;t<l.length;t+=1)l[t].c();e=_(),U(n,"class","CELL")},m(t,o){s(t,n,o);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);c(n,e)},p(t,r){if(8704&r[0]){let c;for(o=t[51],c=0;c<o.length;c+=1){const s=O(t,o,c);l[c]?l[c].p(s,r):(l[c]=w(s),l[c].c(),l[c].m(n,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=o.length}},d(t){t&&F(n),a(l,t)}}}function j(t){let n,e,o,l,r,a,f,U,N,A,g=t[43].RARITY+"",d=t[43].LFP_BUFF+"",P=t[43].ATK_BUFF+"",E=t[43].MAGIC+"";return{c(){n=u("div"),e=i("RARITY: "),o=i(g),l=i("\n\t\t\t\t\t\t\t\t\t\t\t\tLFP_BUFF: "),r=i(d),a=i("\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tATK_BUFF: "),f=i(P),U=i("\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tMAGIC: "),N=i(E),A=_()},m(t,F){s(t,n,F),c(n,e),c(n,o),c(n,l),c(n,r),c(n,a),c(n,f),c(n,U),c(n,N),c(n,A)},p(t,n){1&n[0]&&g!==(g=t[43].RARITY+"")&&T(o,g),1&n[0]&&d!==(d=t[43].LFP_BUFF+"")&&T(r,d),1&n[0]&&P!==(P=t[43].ATK_BUFF+"")&&T(f,P),1&n[0]&&E!==(E=t[43].MAGIC+"")&&T(N,E)},d(t){t&&F(n)}}}function H(t){let n,e=t[43]&&j(t);return{c(){e&&e.c(),n=i("")},m(t,o){e&&e.m(t,o),s(t,n,o)},p(t,o){t[43]?e?e.p(t,o):(e=j(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&F(n)}}}function V(t){let n,e,o,l,r,a,_=t[1][t[47]].NAME+"",f=t[1][t[47]].LFP+"",U=t[1][t[47]].ATK+"";return{c(){n=u("div"),e=i(_),o=i(" LFP: "),l=i(f),r=i(" ATK: "),a=i(U)},m(t,F){s(t,n,F),c(n,e),c(n,o),c(n,l),c(n,r),c(n,a)},p(t,n){2&n[0]&&_!==(_=t[1][t[47]].NAME+"")&&T(e,_),2&n[0]&&f!==(f=t[1][t[47]].LFP+"")&&T(l,f),2&n[0]&&U!==(U=t[1][t[47]].ATK+"")&&T(a,U)},d(t){t&&F(n)}}}function q(t){let n,e,o,l,r,a,N,A,g,d,P,E,p,h,m,L,y,B,R=t[43].RARITY+"",K=t[43].LFP_BUFF+"",M=t[43].LFP_DEBUFF+"",v=t[43].ATK_BUFF+"",b=t[43].ATK_DEBUFF+"";function k(){return t[21](t[43])}return{c(){n=u("span"),e=i(R),o=_(),l=u("span"),r=i(K),a=_(),N=u("span"),A=i(M),g=_(),d=u("span"),P=i(v),E=_(),p=u("span"),h=i(b),m=_(),L=u("button"),L.textContent="set_EQP",U(n,"class","EQP_SPAN svelte-1rsag1y"),U(l,"class","EQP_SPAN svelte-1rsag1y"),U(N,"class","EQP_SPAN svelte-1rsag1y"),U(d,"class","EQP_SPAN svelte-1rsag1y"),U(p,"class","EQP_SPAN svelte-1rsag1y")},m(t,F){s(t,n,F),c(n,e),s(t,o,F),s(t,l,F),c(l,r),s(t,a,F),s(t,N,F),c(N,A),s(t,g,F),s(t,d,F),c(d,P),s(t,E,F),s(t,p,F),c(p,h),s(t,m,F),s(t,L,F),y||(B=f(L,"click",k),y=!0)},p(n,o){t=n,8&o[0]&&R!==(R=t[43].RARITY+"")&&T(e,R),8&o[0]&&K!==(K=t[43].LFP_BUFF+"")&&T(r,K),8&o[0]&&M!==(M=t[43].LFP_DEBUFF+"")&&T(A,M),8&o[0]&&v!==(v=t[43].ATK_BUFF+"")&&T(P,v),8&o[0]&&b!==(b=t[43].ATK_DEBUFF+"")&&T(h,b)},d(t){t&&F(n),t&&F(o),t&&F(l),t&&F(a),t&&F(N),t&&F(g),t&&F(d),t&&F(E),t&&F(p),t&&F(m),t&&F(L),y=!1,B()}}}function z(t){let n,e,o=t[43]&&q(t);return{c(){n=u("li"),o&&o.c(),e=_()},m(t,l){s(t,n,l),o&&o.m(n,null),c(n,e)},p(t,l){t[43]?o?o.p(t,l):(o=q(t),o.c(),o.m(n,e)):o&&(o.d(1),o=null)},d(t){t&&F(n),o&&o.d()}}}function X(n){let e,o,l=n[43]&&function(n){let e,o,l,r,a,f,T,N,A,g,d,P,E,p,h=n[43].RARITY+"",m=n[43].LFP_BUFF+"",L=n[43].LFP_DEBUFF+"",y=n[43].ATK_BUFF+"",B=n[43].ATK_DEBUFF+"";return{c(){e=u("span"),o=i(h),l=_(),r=u("span"),a=i(m),f=_(),T=u("span"),N=i(L),A=_(),g=u("span"),d=i(y),P=_(),E=u("span"),p=i(B),U(e,"class","EQP_SPAN svelte-1rsag1y"),U(r,"class","EQP_SPAN svelte-1rsag1y"),U(T,"class","EQP_SPAN svelte-1rsag1y"),U(g,"class","EQP_SPAN svelte-1rsag1y"),U(E,"class","EQP_SPAN svelte-1rsag1y")},m(t,n){s(t,e,n),c(e,o),s(t,l,n),s(t,r,n),c(r,a),s(t,f,n),s(t,T,n),c(T,N),s(t,A,n),s(t,g,n),c(g,d),s(t,P,n),s(t,E,n),c(E,p)},p:t,d(t){t&&F(e),t&&F(l),t&&F(r),t&&F(f),t&&F(T),t&&F(A),t&&F(g),t&&F(P),t&&F(E)}}}(n);return{c(){e=u("li"),l&&l.c(),o=_()},m(t,n){s(t,e,n),l&&l.m(e,null),c(e,o)},p(t,n){t[43]&&l.p(t,n)},d(t){t&&F(e),l&&l.d()}}}function J(n){let e,l,r,N,A,g,d,P,E,p,h,m,L,y,B,R,K,M,v,b,k,S,Y,O,w,j,q,J,Z,tt,nt,et,ot,lt,rt,ct,st,Ft,at,ut,it,_t,ft,Ut,Tt,Nt,At,gt,dt,Pt,Et,pt,ht,mt,Lt,yt,Bt,Rt,Kt,Mt,vt,bt,kt,St,Yt,$t,Dt=n[0][0].NAME+"",It=n[0][0].LFP+"",Ct=n[0][0].ATK+"",xt=n[7]&&Q(),Ot=n[8]&&G(n),Qt=n[9],Gt=[];for(let t=0;t<Qt.length;t+=1)Gt[t]=W(x(n,Qt,t));let wt=n[0][0].EQP,Wt=[];for(let t=0;t<wt.length;t+=1)Wt[t]=H(C(n,wt,t));let jt=Object.keys(n[1]),Ht=[];for(let t=0;t<jt.length;t+=1)Ht[t]=V(I(n,jt,t));let Vt=n[3],qt=[];for(let t=0;t<Vt.length;t+=1)qt[t]=z(D(n,Vt,t));let zt=n[11],Xt=[];for(let t=0;t<zt.length;t+=1)Xt[t]=X($(n,zt,t));return{c(){e=u("div"),l=u("div"),r=_(),xt&&xt.c(),N=_(),Ot&&Ot.c(),A=_(),g=u("div"),d=i("PICKEL: "),P=i(n[6]),E=_(),p=u("ul");for(let t=0;t<Gt.length;t+=1)Gt[t].c();h=_(),m=u("div"),L=u("button"),L.textContent="◾️",y=_(),B=u("button"),B.textContent="W",R=_(),K=u("button"),K.textContent="◾️",M=_(),v=u("div"),b=u("button"),b.textContent="A",k=_(),S=u("button"),S.textContent="◾️",Y=_(),O=u("button"),O.textContent="D",w=_(),j=u("div"),q=u("button"),q.textContent="◾️",J=_(),Z=u("button"),Z.textContent="S",tt=_(),nt=u("button"),nt.textContent="◾️",et=_(),ot=u("div"),lt=u("div"),rt=i(Dt),ct=i("\n\t\t\t\t\t\t\t\t\tLFP: "),st=i(It),Ft=i("\n\t\t\t\t\t\t\t\t\tATK: "),at=i(Ct),ut=_();for(let t=0;t<Wt.length;t+=1)Wt[t].c();it=_();for(let t=0;t<Ht.length;t+=1)Ht[t].c();_t=_(),ft=u("div"),ft.textContent="Ver 0.0.0.5",Ut=_(),Tt=u("a"),Tt.textContent="GitHub",Nt=_(),At=u("div"),gt=u("button"),gt.textContent="slot_exe_once",dt=_(),Pt=u("div"),Pt.textContent="MINE",Et=i("\n\t\tGOLD: "),pt=i(n[2]),ht=i("\n\t\tKAKUHEN: "),mt=i(n[4]),Lt=i("\n\t\tKAKUHEN_COUNTER: "),yt=i(n[5]),Bt=_(),Rt=u("ul"),Kt=u("li"),Kt.innerHTML='<span class="EQP_SPAN svelte-1rsag1y">RARITY</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">LFP_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">LFP_DEBUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">ATK_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">ATK_DEBUFF</span>',Mt=_();for(let t=0;t<qt.length;t+=1)qt[t].c();vt=_(),bt=u("ul"),kt=u("li"),kt.innerHTML='<span class="EQP_SPAN svelte-1rsag1y">RARITY</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">LFP_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">LFP_DEBUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">ATK_BUFF</span> \n\t\t\t\t<span class="EQP_SPAN svelte-1rsag1y">ATK_DEBUFF</span>',St=_();for(let t=0;t<Xt.length;t+=1)Xt[t].c();U(L,"class","WASD_NULL svelte-1rsag1y"),U(B,"class","WASD svelte-1rsag1y"),U(K,"class","WASD_NULL svelte-1rsag1y"),U(b,"class","WASD svelte-1rsag1y"),U(S,"class","WASD_NULL svelte-1rsag1y"),U(O,"class","WASD svelte-1rsag1y"),U(q,"class","WASD_NULL svelte-1rsag1y"),U(Z,"class","WASD svelte-1rsag1y"),U(nt,"class","WASD_NULL svelte-1rsag1y"),U(Tt,"href","https://github.com/taroyanaka/game/"),U(e,"class","field svelte-1rsag1y"),U(At,"class","gacha svelte-1rsag1y")},m(t,o){s(t,e,o),c(e,l),c(e,r),xt&&xt.m(e,null),c(e,N),Ot&&Ot.m(e,null),c(e,A),c(e,g),c(g,d),c(g,P),c(e,E),c(e,p);for(let t=0;t<Gt.length;t+=1)Gt[t]&&Gt[t].m(p,null);c(e,h),c(e,m),c(m,L),c(m,y),c(m,B),c(m,R),c(m,K),c(e,M),c(e,v),c(v,b),c(v,k),c(v,S),c(v,Y),c(v,O),c(e,w),c(e,j),c(j,q),c(j,J),c(j,Z),c(j,tt),c(j,nt),c(e,et),c(e,ot),c(ot,lt),c(lt,rt),c(lt,ct),c(lt,st),c(lt,Ft),c(lt,at),c(lt,ut);for(let t=0;t<Wt.length;t+=1)Wt[t]&&Wt[t].m(lt,null);c(ot,it);for(let t=0;t<Ht.length;t+=1)Ht[t]&&Ht[t].m(ot,null);c(e,_t),c(e,ft),c(e,Ut),c(e,Tt),s(t,Nt,o),s(t,At,o),c(At,gt),c(At,dt),c(At,Pt),c(At,Et),c(At,pt),c(At,ht),c(At,mt),c(At,Lt),c(At,yt),c(At,Bt),c(At,Rt),c(Rt,Kt),c(Rt,Mt);for(let t=0;t<qt.length;t+=1)qt[t]&&qt[t].m(Rt,null);c(At,vt),c(At,bt),c(bt,kt),c(bt,St);for(let t=0;t<Xt.length;t+=1)Xt[t]&&Xt[t].m(bt,null);Yt||($t=[f(B,"click",n[17]),f(b,"click",n[18]),f(O,"click",n[19]),f(Z,"click",n[20]),f(gt,"click",n[12])],Yt=!0)},p(t,n){if(t[7]?xt||(xt=Q(),xt.c(),xt.m(e,N)):xt&&(xt.d(1),xt=null),t[8]?Ot?Ot.p(t,n):(Ot=G(t),Ot.c(),Ot.m(e,A)):Ot&&(Ot.d(1),Ot=null),64&n[0]&&T(P,t[6]),8704&n[0]){let e;for(Qt=t[9],e=0;e<Qt.length;e+=1){const o=x(t,Qt,e);Gt[e]?Gt[e].p(o,n):(Gt[e]=W(o),Gt[e].c(),Gt[e].m(p,null))}for(;e<Gt.length;e+=1)Gt[e].d(1);Gt.length=Qt.length}if(1&n[0]&&Dt!==(Dt=t[0][0].NAME+"")&&T(rt,Dt),1&n[0]&&It!==(It=t[0][0].LFP+"")&&T(st,It),1&n[0]&&Ct!==(Ct=t[0][0].ATK+"")&&T(at,Ct),1&n[0]){let e;for(wt=t[0][0].EQP,e=0;e<wt.length;e+=1){const o=C(t,wt,e);Wt[e]?Wt[e].p(o,n):(Wt[e]=H(o),Wt[e].c(),Wt[e].m(lt,null))}for(;e<Wt.length;e+=1)Wt[e].d(1);Wt.length=wt.length}if(2&n[0]){let e;for(jt=Object.keys(t[1]),e=0;e<jt.length;e+=1){const o=I(t,jt,e);Ht[e]?Ht[e].p(o,n):(Ht[e]=V(o),Ht[e].c(),Ht[e].m(ot,null))}for(;e<Ht.length;e+=1)Ht[e].d(1);Ht.length=jt.length}if(4&n[0]&&T(pt,t[2]),16&n[0]&&T(mt,t[4]),32&n[0]&&T(yt,t[5]),1033&n[0]){let e;for(Vt=t[3],e=0;e<Vt.length;e+=1){const o=D(t,Vt,e);qt[e]?qt[e].p(o,n):(qt[e]=z(o),qt[e].c(),qt[e].m(Rt,null))}for(;e<qt.length;e+=1)qt[e].d(1);qt.length=Vt.length}if(2048&n[0]){let e;for(zt=t[11],e=0;e<zt.length;e+=1){const o=$(t,zt,e);Xt[e]?Xt[e].p(o,n):(Xt[e]=X(o),Xt[e].c(),Xt[e].m(bt,null))}for(;e<Xt.length;e+=1)Xt[e].d(1);Xt.length=zt.length}},i:t,o:t,d(t){t&&F(e),xt&&xt.d(),Ot&&Ot.d(),a(Gt,t),a(Wt,t),a(Ht,t),t&&F(Nt),t&&F(At),a(qt,t),a(Xt,t),Yt=!1,o($t)}}}function Z(t,n,e){let o=[{NAME:"USR",LFP:20,ATK:1,EQP:[{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:4,ATK_DEBUFF:0,MAGIC:null},{RARITY:2,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:0,ATK_DEBUFF:0,MAGIC:[[0,1,0],[1,"U",1],[0,1,0]]},{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:0,ATK_DEBUFF:0,MAGIC:[[1,1,1,1,1],[1,0,0,0,1],[1,0,"U",0,1],[1,0,0,0,1],[1,1,1,1,1]]}]}];const l=(t,n,l)=>{o[0].EQP.length>=l||e(0,o[0].EQP=R.append(n,o[0].EQP),o)};let r={},c=1e3,s=[],F=!1,a=0,u=[5,5],i=0,_=!1,f="",U=[],T=[],N=[{RARITY:0,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:1,ATK_DEBUFF:0},{RARITY:1,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:2,ATK_DEBUFF:0},{RARITY:2,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:3,ATK_DEBUFF:0},{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:4,ATK_DEBUFF:0},{RARITY:90,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:10,ATK_DEBUFF:0}].reduce(((t,n)=>{n.RARITY;const e=90===n.RARITY?1:0===n.RARITY?80:n.RARITY;for(let o=0;o<e;o++)t.push(n);return t}),[]),A=shuffle(N);shuffle(N.slice(0,100));const d=()=>{const t=F?((t,n)=>{const e=A.filter((n=>n.RARITY===t)),o=e.slice(0,e.length-e.length*(n/100)),l=A.filter((n=>n.RARITY!==t)),r=o.concat(l);return shuffle(r)})(0,90):A,n=shuffle(t)[0];c<1||(e(2,c-=1),e(3,s=R.append(n,s)),s.slice(-shuffle([2,3])[0]).every((t=>t.RARITY>=1))&&e(4,F=!0),!0===F&&(e(5,a+=1),e(4,F=!(a>=30)),e(5,a=a>=30?0:a)))};document.addEventListener("keypress",(function(t){d(),t.key}));const P=t=>{try{(t=>{const n=t.map((t=>t.map(((n,e)=>"U"===n?[e,t.indexOf(n)]:null)))).flat().filter(((t,n)=>null!==t))[0];return t.map(((t,n)=>t.map(((t,e)=>1===t?[n,e]:null)))).flat().filter((t=>null!==t)).map((t=>[t[0]-n[0],t[1]-n[1]]))})(t).forEach((t=>{const n=u[0]+t[0],l=u[1]+t[1];if(console.log(n,l),console.log(T[n][l][2]),"GOL"===T[n][l][2]||"BLC"===T[n][l][2]||"NON"===T[n][l][2]||"USR"===T[n][l][2])return;const c="UNT_NUM_"+Number(T[n][l][2].NAME.replaceAll("UNT_","")).toString(),s=o[0].EQP.reduce(((t,n)=>t+n.ATK_BUFF),0)||0,F=o[0].ATK+s;if(e(1,r[c].LFP-=F,r),r[c].LFP<=0){const t=[n,l];p(t[0],t[1]),e(9,T[t[0]][t[1]][3]="background-color: #FFFFFF",T),e(1,r=R.omit([c],r))}}))}catch(t){console.log(t)}},E=(t,n)=>{u=[t,n];const e=[[n,n-1],[n,n+1],[n-1,n],[n+1,n]];return U=e,console.log(u[0],u[1],U),e},p=(t,n)=>{e(9,T[t][n][2]="NON",T),e(9,T[t][n][3]="background-color: #FFFFFF",T)};function h(t){const n={w:[-1,0],a:[0,-1],s:[1,0],d:[0,1]};if("t"===t.key)return void P(o[0].EQP[1].MAGIC);if("g"===t.key)return void P(o[0].EQP[2].MAGIC);if("b"===t.key)return void m(1);const l=[u[0]+n[t.key][0],u[1]+n[t.key][1]];"BLC"===T[l[0]][l[1]][2]&&(e(6,i+=1),p(l[0],l[1])),"USR"!==T[l[0]][l[1]][2]&&("GOL"===T[l[0]][l[1]][2]&&(e(7,_=!0),document.removeEventListener("keypress",h),setTimeout((()=>{y({when_mounted_time:!1})}),1e3)),"NON"===T[l[0]][l[1]][2]&&(e(9,T[l[0]][l[1]][2]="USR",T),e(9,T[u[0]][u[1]][2]="NON",T),e(9,T[l[0]][l[1]][3]="background-color: #0000FF",T),e(9,T[u[0]][u[1]][3]="background-color: #FFFFFF",T),console.log(),u=l),((t,n)=>{if(console.log("Go_to_Y, Go_to_X",t,n),console.log("attack_USR_to_UNT"),console.log(T[t][n][2]),"UNT"!==T[t][n][2].TYPE)return void console.log("UNTが存在しない");const l="UNT_NUM_"+Number(T[t][n][2].NAME.slice(-1)).toString(),c=o[0].EQP.reduce(((t,n)=>t+n.ATK_BUFF),0)||0,s=o[0].ATK+c;if(console.log(l),e(1,r[l].LFP-=s,r),r[l].LFP<=0){const o=[t,n];p(o[0],o[1]),e(9,T[o[0]][o[1]][3]="background-color: #FFFFFF",T),e(1,r=R.omit([l],r))}})(l[0],l[1]),Object.entries(r).map(((t,n)=>{m(t[1].NAME)})))}const m=t=>{try{const n=t?Number(t.replaceAll("UNT_","")):0,l=T.map((t=>t.filter((t=>"USR"===t[2])))).filter((t=>t.length>0))[0][0],c=((t=0)=>{try{const n=t.toString(),e=(t.toString(),T.map((t=>t.filter((t=>"UNT"===t[2].TYPE&&t[2].NAME==="UNT_"+n)))).filter((t=>t.length>0))[0][0]),[o,l]=[e[0],e[1]];return[o,l]}catch(t){console.log(t)}})(n);if(c[1]===l[1]&&c[0]===l[0]-1||c[1]===l[1]&&c[0]===l[0]+1||c[0]===l[0]&&c[0]===l[1]-1||c[0]===l[0]&&c[0]===l[1]+1)return void(t=>{const n="UNT_NUM_"+t.toString(),l=r[n].ATK;e(0,o[0].LFP-=l,o),o[0].LFP<=0&&(e(8,f="YOU DIED, GAME OVER"),setTimeout((()=>{y({when_mounted_time:!1})}),1e3))})(n);Math.floor(4*Math.random());const s=[[c[0],c[1]-1],[c[0],c[1]+1],[c[0]-1,c[1]],[c[0]+1,c[1]]];let F=shuffle(s);for(let t=0;t<F.length;t++){let o=F[t];"NON"===T[o[0]][o[1]][2]&&(p(c[0],c[1]),e(9,T[c[0]][c[1]][3]="background-color: #FFFFFF",T),e(9,T[o[0]][o[1]][2]=r["UNT_NUM_"+n],T),e(9,T[o[0]][o[1]][3]="background-color: #00FF00",T),F=[])}}catch(t){console.log(t)}},L=()=>{(()=>{const t=T.map((t=>t.filter((t=>"NON"===t[2])))).flat().map((t=>t.slice(0,2)));Object.entries(r).forEach(((n,o)=>{const l="UNT_NUM_"+o.toString(),c=shuffle(t)[0];e(9,T[c[0]][c[1]][2]=r[l],T),e(9,T[c[0]][c[1]][3]="background-color: #00FF00",T)}))})()},y=({when_mounted_time:t=!0})=>{if(!1===t){if(!confirm("Again？"))return;y({when_mounted_time:!0})}var n,l;e(9,T=R.xprod(R.range(0,10),R.range(0,10)).map((t=>t.concat(["BLC"]))).map((t=>t.concat(["background-color: #808080"])))),e(9,T=R.splitEvery(10,T)),e(9,T[5][5][2]="USR",T),e(9,T[5][5][3]="background-color: #0000FF",T),e(8,f=""),e(0,o=[{NAME:"USR",LFP:50,ATK:1,EQP:[{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:4,ATK_DEBUFF:0,MAGIC:null},{RARITY:2,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:0,ATK_DEBUFF:0,MAGIC:[[0,1,0],[1,"U",1],[0,1,0]]},{RARITY:3,LFP_BUFF:0,LFP_DEBUFF:0,ATK_BUFF:0,ATK_DEBUFF:0,MAGIC:[[1,1,1,1,1],[1,0,0,0,1],[1,0,"U",0,1],[1,0,0,0,1],[1,1,1,1,1]]}]}]),e(1,r={UNT_NUM_0:{TYPE:"UNT",NAME:"UNT_0",LFP:3,ATK:1},UNT_NUM_1:{TYPE:"UNT",NAME:"UNT_1",LFP:2,ATK:2},UNT_NUM_2:{TYPE:"UNT",NAME:"UNT_2",LFP:2,ATK:3},UNT_NUM_3:{TYPE:"UNT",NAME:"UNT_3",LFP:2,ATK:4},UNT_NUM_4:{TYPE:"UNT",NAME:"UNT_4",LFP:4,ATK:1},UNT_NUM_5:{TYPE:"UNT",NAME:"UNT_5",LFP:4,ATK:2},UNT_NUM_6:{TYPE:"UNT",NAME:"UNT_6",LFP:5,ATK:1},UNT_NUM_7:{TYPE:"UNT",NAME:"UNT_7",LFP:5,ATK:2},UNT_NUM_8:{TYPE:"UNT",NAME:"UNT_8",LFP:5,ATK:3},UNT_NUM_9:{TYPE:"UNT",NAME:"UNT_9",LFP:5,ATK:4},UNT_NUM_10:{TYPE:"UNT",NAME:"UNT_10",LFP:6,ATK:1},UNT_NUM_11:{TYPE:"UNT",NAME:"UNT_11",LFP:6,ATK:2},UNT_NUM_12:{TYPE:"UNT",NAME:"UNT_12",LFP:6,ATK:3},UNT_NUM_13:{TYPE:"UNT",NAME:"UNT_13",LFP:6,ATK:4},UNT_NUM_14:{TYPE:"UNT",NAME:"UNT_14",LFP:1,ATK:1},UNT_NUM_15:{TYPE:"UNT",NAME:"UNT_15",LFP:1,ATK:2},UNT_NUM_16:{TYPE:"UNT",NAME:"UNT_16",LFP:1,ATK:3}}),l=9,e(9,T[n=0][l][2]="GOL",T),e(9,T[n][l][3]="background-color: #FFFF00",T),e(6,i=0),e(7,_=!1),U=[],u=[5,5],((t=80)=>{const n=T.map((t=>t.filter((t=>"BLC"===t[2])))).flat().length,e=Math.floor(n*(t/100));for(let t=0;t<e;t++){const t=[shuffle([0,1,2,3,4,5,6,7,8,9])[0],shuffle([0,1,2,3,4,5,6,7,8,9])[0]];"USR"!==T[t[0]][t[1]][2]&&"GOL"!==T[t[0]][t[1]][2]&&p(t[0],t[1])}})(),e(9,T[5][4][2]="NON",T),e(9,T[5][4][3]="background-color: #FFFFFF",T),e(9,T[5][6][2]="NON",T),e(9,T[5][6][3]="background-color: #FFFFFF",T),e(9,T[4][5][2]="NON",T),e(9,T[4][5][3]="background-color: #FFFFFF",T),e(9,T[6][5][2]="NON",T),e(9,T[6][5][3]="background-color: #FFFFFF",T),e(9,T[5][3][2]="NON",T),e(9,T[5][3][3]="background-color: #FFFFFF",T),e(9,T[5][7][2]="NON",T),e(9,T[5][7][3]="background-color: #FFFFFF",T),e(9,T[3][5][2]="NON",T),e(9,T[3][5][3]="background-color: #FFFFFF",T),e(9,T[7][5][2]="NON",T),e(9,T[7][5][3]="background-color: #FFFFFF",T),L(),document.addEventListener("keypress",h)};g((async()=>{try{y({when_mounted_time:!0})}catch(t){console.log(t)}}));return[o,r,c,s,F,a,i,_,f,T,l,A,d,E,h,(t,n)=>E(t,n),(t,n)=>E(t,n),()=>h({key:"w"}),()=>h({key:"a"}),()=>h({key:"d"}),()=>h({key:"s"}),t=>l(o[0].NAME,t,3)]}return new class extends Y{constructor(t){super(),S(this,t,Z,J,r,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
